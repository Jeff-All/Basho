<div class="center">
<h1>Pick your Team</h1>
<h1>[{{this.changed}}]</h1>
<ng-container *ngIf="this.ready else waiting">
    <table>
        <tr [ngClass]="{selected: cur.key===curSelected, hoverable: cur.key!==curSelected}" (click)="selectCategory(cur.key)" *ngFor="let cur of selected | keyvalue" >
            <td class="categoryLabel" >{{cur.key}}</td>
            <td class="pickYourRikishi" colspan="2" *ngIf="cur.value.rikishi===undefined">Pick Your Rikishi</td>
            <td class="avatarContainer" *ngIf="cur.value.rikishi!==undefined"><img class="avatar" src="{{cur.value.rikishi.Avatar}}"></td>
            <td class="rikishiLabel" *ngIf="cur.value.rikishi!==undefined">
                <div>{{cur.value.rikishi.Name}}</div>
                <div>{{cur.value.rikishi.Rank}}</div>
            </td>
        </tr>
    </table>
    <ng-container *ngIf="rikishis!=undefined && curSelected!='' else save">
        <h1>Group {{curSelected}}</h1>
        <table>
            <tr class="hoverable" (click)="selectRikishi(cur)" *ngFor="let cur of rikishis.get(curSelected)">
                <td class="avatarContainer"><img class="avatar" src="{{cur.Avatar}}"></td>
                <td class="rikishiLabel">
                    <div>{{cur.Name}}</div>
                    <div>{{cur.Rank}}</div>
                </td>
            </tr>
        </table>
    </ng-container>
    <ng-template #save>
        <button *ngIf="this.changed" (click)="saveTeam()" class="saveButton">Save</button>
    </ng-template>
</ng-container>
<ng-template #waiting>
    <img class="loading" src="/assets/loading.gif">
</ng-template>
</div>